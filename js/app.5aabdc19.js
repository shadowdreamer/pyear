(function(t){function e(e){for(var a,r,s=e[0],l=e[1],u=e[2],c=0,d=[];c<s.length;c++)r=s[c],i[r]&&d.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},"1bf2":function(t,e,n){},"507e":function(t,e,n){t.exports=n.p+"img/qr.7c0c7070.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("layout")],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warp"},[a("div",{staticClass:"layout",attrs:{id:"topic"}},[a("img",{staticClass:"logo",attrs:{src:n("cf05"),alt:"logo"}}),t._m(0),a("div",{staticClass:"avata"},[a("span",[t._v("PRODUCER NAME")]),a("p",[t._v("\n\n        "+t._s(t.pdata.pname)+"P\n      ")])]),a("div",{staticClass:"items"},[a("p",[a("em",[t._v(t._s(t._f("timeModify")(t.pdata.time)))]),t._v("您初次在765Pro Theater与偶像们相遇。")]),a("P",[t._v("今天是您在765Pro Theater的第"),a("em",[t._v(t._s(Math.round(((new Date).getTime()-t.pdata.time)/864e5)))]),t._v("天。")]),a("p",[t._v("您的PLv是"),a("em",[t._v(t._s(t.pdata.plv))]),t._v(",超过了全世界"),a("em",[t._v(t._s(t._f("plvPercent")(t.pdata.plv))+"%")]),t._v("的玩家")]),a("p",[t._v("您与"),a("em",[a("span",{style:{color:t.imageColor[t.pdata.idol]}},[t._v(t._s(t.pdata.idol))])]),t._v("的亲密度最高，达到了"),a("em",[t._v(t._s(t.pdata.idolLove))]),t._v(",\n        应该是一名"),a("em",[a("span",{style:{color:t.imageColor[t.pdata.idol]}},[t._v(t._s(t.pdata.idol))])]),t._v("P。")]),a("p",[t._v("您的粉丝分布情况如下：")]),a("g2radius",{attrs:{fans:t.pdata.fans,fanTotal:t.pdata.fanTotal,imageColor:t.imageColor}}),a("p",[t._v("2018年您增加了"),a("em",[t._v(t._s(t.pdata.friend))]),t._v("个同僚,最近和他们聊过天吗？。")]),a("p",[t._v("您一共送出了"),a("em",[t._v(t._s(t.pdata.flowerSend))]),t._v("个花篮，收到了"),a("em",[t._v(t._s(t.pdata.flowerResive))]),t._v("个花篮，您的无私奉献让世界更美好。")]),a("p",[t._v("2018年，你在活动"),a("em",[t._v(t._s(t.pdata.eventName))]),t._v("中大放异彩，挤进了前"),a("em",[t._v(t._s(t.pdata.eventRank))]),t._v("名。")]),a("p",{staticClass:"word"},[t._v("“灭了同担”")]),a("p",[t._v("在过去的2018年里您一共打了"),a("em",[t._v(t._s(t.pdata.songCount))]),t._v("首歌，其中FC的回数是"),a("em",[t._v(t._s(t.pdata.SongFcCount))]),t._v("。")]),a("p",[t._v("您MillonMix模式下FC的歌有"),a("em",[t._v(t._s(t.pdata.fcTotal))]),t._v("首，FC率达到了"),a("em",[t._v(t._s(Math.round(100*t.pdata.fcTotal/t.songList.length)))]),t._v("%，真了不起。")]),a("p",[a("em",[t._v(t._s(t.pdata.songMost))]),t._v("是您打的最多的一首歌，一共打了"),a("em",[t._v(t._s(t.pdata.songMostCount))]),t._v("次，您一定很喜欢这首歌。")]),a("p",[t._v("2018年您一共抽了"),a("em",[t._v(t._s(t.pdata.gashaCount))]),t._v("次卡，增加了"),a("em",[t._v(t._s(t.pdata.SSRCount))]),t._v("个new SSR。")]),a("p",{staticClass:"word"},[t._v("\n        “万代亏了我赚了”\n      ")]),a("p",[t._v("去年您抽了"),a("em",[t._v(t._s(t.pdata.pinkGasha))]),t._v("次粉币，出现了"),a("em",[t._v(t._s(t.pdata.pinkSSR))]),t._v("次SSR。")]),a("p",{staticClass:"word"},[t._v("“都市传说”")]),a("p",[t._v("您完全觉醒了"),a("em",[t._v(t._s(t.pdata.aniva))]),t._v("个一周年纪念卡，一周年活动真是令人怀念。")]),a("p",{staticClass:"word"},[t._v("\n        “这歌声就是UNION！”\n      ")])],1),t._m(1),t._m(2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.enqueteON,expression:"enqueteON"}],staticClass:"enquete"},[t._v("\n    tips:参考游戏内数据，有些可以估算。\n    "),a("p",[t._v("\n      普罗丢撒name：\n      "),a("el-input",{staticStyle:{width:"150px"},model:{value:t.input.pname,callback:function(e){t.$set(t.input,"pname",e)},expression:"input.pname"}}),t._v(" P\n    ")],1),a("p",[t._v("初次登入MLTD的日期：\n      "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.input.time,callback:function(e){t.$set(t.input,"time",e)},expression:"input.time"}})],1),a("p"),a("p",[t._v("Plv是多少：\n        "),a("el-input-number",{staticStyle:{width:"150px'"},attrs:{controls:!1},model:{value:t.input.plv,callback:function(e){t.$set(t.input,"plv",e)},expression:"input.plv"}})],1),a("p",[t._v("亲密度最高的偶像：\n        "),a("el-select",{attrs:{placeholder:"选，都可以选",filterable:""},model:{value:t.input.idol,callback:function(e){t.$set(t.input,"idol",e)},expression:"input.idol"}},t._l(t.idollist,function(t){return a("el-option",{key:t.label,attrs:{value:t.name}})}),1),a("br")],1),a("p",[t._v("亲密度为：\n        "),a("el-input-number",{staticStyle:{width:"150px'"},attrs:{controls:!1},model:{value:t.input.idolLove,callback:function(e){t.$set(t.input,"idolLove",e)},expression:"input.idolLove"}})],1),a("p",[t._v("\n        粉丝总数： "),a("el-input-number",{staticStyle:{width:"150px'"},attrs:{controls:!1},model:{value:t.input.fanTotal,callback:function(e){t.$set(t.input,"fanTotal",e)},expression:"input.fanTotal"}})],1),a("p",[t._v("\n        最高的几位，会自动加一个“其他”"),a("br"),a("ul",[a("span",{staticStyle:{display:"inline-block",width:"40px"}}),a("span",{staticStyle:{display:"inline-block",width:"120px"}},[t._v("偶像")]),a("span",{staticStyle:{display:"inline-block",width:"50px"}},[t._v("粉丝数")]),t._l(t.input.fans,function(e,n){return a("li",{key:n},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"选，都可以选",filterable:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}},t._l(t.idollist,function(t){return a("el-option",{key:t.label,attrs:{value:t.name}})}),1),t._v("\n             \n            "),a("el-input-number",{staticStyle:{width:"120px"},attrs:{"controls-position":"right",controls:!1},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}),t._v("\n              \n\n            "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(e){t.deleteidol(n)}}})],1)})],2),a("el-button",{staticStyle:{"margin-left":"100px",width:"200px"},attrs:{plain:""},on:{click:t.addidol}},[t._v("增加偶像")])],1),a("p",[t._v("\n\n        今年加了多少好友："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.friend,callback:function(e){t.$set(t.input,"friend",e)},expression:"input.friend"}}),a("br")],1),a("P",[t._v("\n\n        送了多少花："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.flowerSend,callback:function(e){t.$set(t.input,"flowerSend",e)},expression:"input.flowerSend"}}),a("br"),t._v("\n        收到多少花："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.flowerResive,callback:function(e){t.$set(t.input,"flowerResive",e)},expression:"input.flowerResive"}}),a("br")],1),a("p",[t._v("\n\n        18年排名最高的活动： "),a("el-select",{attrs:{filterable:""},model:{value:t.input.eventName,callback:function(e){t.$set(t.input,"eventName",e)},expression:"input.eventName"}},t._l(t.eventList,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1),a("br"),t._v("\n        这个活动的排名是："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.eventRank,callback:function(e){t.$set(t.input,"eventRank",e)},expression:"input.eventRank"}}),a("br")],1),a("p",[t._v("\n\n        18年大概打了多少歌："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.songCount,callback:function(e){t.$set(t.input,"songCount",e)},expression:"input.songCount"}}),a("br"),t._v("\n        FC了多少次："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.SongFcCount,callback:function(e){t.$set(t.input,"SongFcCount",e)},expression:"input.SongFcCount"}}),a("br")],1),a("p",[t._v("\n\n        mmfc了几首："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.fcTotal,callback:function(e){t.$set(t.input,"fcTotal",e)},expression:"input.fcTotal"}}),a("br")],1),a("p",[t._v("\n\n        打的最多的歌： "),a("el-select",{attrs:{placeholder:"选，都可以选",filterable:""},model:{value:t.input.songMost,callback:function(e){t.$set(t.input,"songMost",e)},expression:"input.songMost"}},t._l(t.songList,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1),a("br"),t._v("\n        打了多少次："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.songMostCount,callback:function(e){t.$set(t.input,"songMostCount",e)},expression:"input.songMostCount"}}),a("br")],1),a("p",[t._v("\n\n        大概抽了多少抽："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.gashaCount,callback:function(e){t.$set(t.input,"gashaCount",e)},expression:"input.gashaCount"}}),a("br"),t._v("\n        弄个多少ssr："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.SSRCount,callback:function(e){t.$set(t.input,"SSRCount",e)},expression:"input.SSRCount"}}),a("br")],1),a("p",[t._v("\n\n        大概抽了多少粉币："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.pinkGasha,callback:function(e){t.$set(t.input,"pinkGasha",e)},expression:"input.pinkGasha"}}),a("br"),t._v("\n        粉币ssr："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.pinkSSR,callback:function(e){t.$set(t.input,"pinkSSR",e)},expression:"input.pinkSSR"}}),a("br")],1),a("p",[t._v("\n\n        周年卡觉醒了几个："),a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.input.aniva,callback:function(e){t.$set(t.input,"aniva",e)},expression:"input.aniva"}})],1),a("div",{staticClass:"nothing"},[t._v(" ")]),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){t.enqueteON=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.submit}},[t._v("完成")])],1)],1),a("div",{staticClass:"buttons"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.phone,expression:"phone"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("p",{attrs:{id:"img"}}),a("br"),t._v("\n      ↑右键或者长按\n    ")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.enqueteON=!0}}},[t._v("编辑数据")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toPic}},[t._v("生成图片")])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tittle"},[n("p",[t._v("\n        百万现场剧场时光年鉴\n      ")]),n("span",[t._v("2018")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot"},[n("p",[t._v("2019年も"),n("br"),t._v("これからも"),n("br"),n("em",[t._v("アイマス")]),t._v("ですよ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qr"},[a("img",{attrs:{src:n("507e"),alt:"qrcode"}}),a("p",[t._v("扫码给我也弄一个")])])}],l=n("f499"),u=n.n(l),p=(n("55dd"),n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{attrs:{id:"mountNode"}})}),c=[],d=n("7f1a"),v=n.n(d),f=n("7104"),m=n.n(f),h={data:function(){return{chart:null}},props:{fans:{type:Array,default:function(){return{data:[]}}},fanTotal:0,imageColor:{}},mounted:function(){this.drawChart()},computed:{_fans:function(){var t=0;for(var e in this.fans)t+=this.fans[e].value;return this.fans.concat([{name:"其他",value:this.fanTotal-t}])}},watch:{fans:{handler:function(t,e){this.drawChart()},deep:!0},fanTotal:{handler:function(){this.drawChart()}}},methods:{drawChart:function(){var t=this;this.dv=new m.a.DataView,this.dv.source(this._fans).transform({type:"percent",field:"value",dimension:"name",as:"percent"}),this.chart&&this.chart.destroy(),this.chart=new v.a.Chart({container:"mountNode",forceFit:!0,padding:"auto",height:300}),this.chart.source(this.dv),this.chart.coord("theta",{radius:.65,innerRadius:.6,startAngle:2*Math.PI/2,endAngle:6*Math.PI/2}),this.chart.tooltip({showTitle:!1}),this.chart.intervalStack().position("percent").color("name",function(e){return t.imageColor[e]}).tooltip("name*percent",function(t,e){return{name:t,value:(100*e).toFixed(1)+"%"}}).label("name",{textStyle:{fontSize:"13",fontWeight:"bold"},formatter:function(t,e,n){var a=e.point,i=a["percent"];return i=(100*i).toFixed(1)+"%",t+" "+i}}).style({lineWidth:1,stroke:"#eee"}),this.chart.guide().html({position:["50%","50%"],html:'<div style="color:#878242;font-size: 14px;text-align: center;width: 10em;">总粉丝<br>\n            <span style="color:#a39d4b;font-size:20px">'.concat(this.fanTotal,"</span></div>"),alignX:"middle",alignY:"middle"}),this.chart.render()}}},_=h,g=n("2877"),b=Object(g["a"])(_,p,c,!1,null,null,null);b.options.__file="G2radius.vue";var w=b.exports,y={data:function(){return{pdata:{},input:{},idollist:[],imageColor:{},eventList:[],songList:[],enqueteON:!1,phone:!1,loading:!1}},filters:{timeModify:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月").concat(e.getDate(),"日")},plvPercent:function(t){return t=t||0,t>400&&(pfv=400),Math.floor(100*Math.sqrt(t/400))}},methods:{submit:function(){var t="";"Date"==this.input.time.constructor.name&&(this.input.time=this.input.time.getTime()),this.input.fans.sort(function(t,e){return e.value-t.value}),t=u()(this.input),localStorage.pdata=t,this.pdata=JSON.parse(t),this.phone=!1,this.enqueteON=!1},deleteidol:function(t){this.input.fans.splice(t,1)},addidol:function(){this.input.fans.push({name:null,value:0})},toPic:function(){var t=this;this.phone=!0,this.loading=!0;var e=window.document.querySelector("#img");this.$h2c(document.querySelector("#topic")).then(function(n){e.children[0]&&e.children[0].remove(),e.appendChild(t.$c2img.convertToPNG(n)),t.loading=!1})}},created:function(){var t=this,e=null;fetch("./mltd.json").then(function(n){return n.json().then(function(n){e=u()(n.defult),t.idollist=n.idollist,t.imageColor=n.imageColor,t.eventList=n.eventList,t.songList=n.songList})}),localStorage.pdata?(this.input=JSON.parse(localStorage.pdata),this.pdata=JSON.parse(localStorage.pdata)):(localStorage.pdata=e,this.input=JSON.parse(e),this.pdata=JSON.parse(e))},components:{G2radius:w}},S=y,x=(n("7de6"),Object(g["a"])(S,r,s,!1,null,"1bc77a54",null));x.options.__file="Layout.vue";var C=x.exports,k={name:"app",components:{Layout:C}},$=k,P=(n("034f"),Object(g["a"])($,i,o,!1,null,null,null));P.options.__file="App.vue";var T=P.exports,M=n("5c96"),N=(n("0fae"),n("951f")),O=n.n(N),R=(n("4917"),n("a481"),function(){var t=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return{canvas:!!e,imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa}}(),e="image/octet-stream";function n(t,e,n){var a=t.width,i=t.height;void 0==e&&(e=a),void 0==n&&(n=i);var o=document.createElement("canvas"),r=o.getContext("2d");return o.width=e,o.height=n,r.drawImage(t,0,0,a,i,0,0,e,n),o}function a(t,e,a,i){return t=n(t,a,i),t.toDataURL(e)}function i(t){var e=document.createElement("a");e.download="image.png",e.href=t,e.click()}function o(t){var e=document.createElement("img");return e.src=t,e}function r(t){t=t.toLowerCase().replace(/jpg/i,"jpeg");var e=t.match(/png|jpeg|bmp|gif/)[0];return"image/"+e}function s(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function l(t){var e=t.width,n=t.height;return t.getContext("2d").getImageData(0,0,e,n)}function u(t,e){return"data:"+e+";base64,"+t}var p=function(t){var e=t.width,n=t.height,a=e*n*3,i=a+54,o=[66,77,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,54,0,0,0],r=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,1,0,24,0,0,0,0,0,255&a,a>>8&255,a>>16&255,a>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=(4-3*e%4)%4,u=t.data,p="",c=e<<2,d=n,v=String.fromCharCode;do{for(var f=c*(d-1),m="",h=0;h<e;h++){var _=h<<2;m+=v(u[f+_+2])+v(u[f+_+1])+v(u[f+_])}for(var g=0;g<l;g++)m+=String.fromCharCode(0);p+=m}while(--d);var b=s(o.concat(r))+s(p);return b},c=function(o,s,c,d){if(t.canvas&&t.dataURL)if("string"==typeof o&&(o=document.getElementById(o)),void 0==d&&(d="png"),d=r(d),/bmp/.test(d)){var v=l(n(o,s,c)),f=p(v);i(u(f,e))}else{f=a(o,d,s,c);i(f.replace(d,e))}},d=function(e,i,s,c){if(t.canvas&&t.dataURL){if("string"==typeof e&&(e=document.getElementById(e)),void 0==c&&(c="png"),c=r(c),/bmp/.test(c)){var d=l(n(e,i,s)),v=p(d);return o(u(v,"image/bmp"))}v=a(e,c,i,s);return o(v)}};return{saveAsImage:c,saveAsPNG:function(t,e,n){return c(t,e,n,"png")},saveAsJPEG:function(t,e,n){return c(t,e,n,"jpeg")},saveAsGIF:function(t,e,n){return c(t,e,n,"gif")},saveAsBMP:function(t,e,n){return c(t,e,n,"bmp")},convertToImage:d,convertToPNG:function(t,e,n){return d(t,e,n,"png")},convertToJPEG:function(t,e,n){return d(t,e,n,"jpeg")},convertToGIF:function(t,e,n){return d(t,e,n,"gif")},convertToBMP:function(t,e,n){return d(t,e,n,"bmp")}}}());a["default"].config.productionTip=!1,a["default"].use(M["Button"]),a["default"].use(M["Select"]),a["default"].use(M["Option"]),a["default"].use(M["Input"]),a["default"].use(M["InputNumber"]),a["default"].use(M["DatePicker"]),a["default"].use(M["Loading"].directive),a["default"].prototype.$h2c=O.a,a["default"].prototype.$c2img=R,new a["default"]({render:function(t){return t(T)}}).$mount("#app")},"64a9":function(t,e,n){},"7de6":function(t,e,n){"use strict";var a=n("1bf2"),i=n.n(a);i.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.3a68dd7e.png"}});
//# sourceMappingURL=app.5aabdc19.js.map